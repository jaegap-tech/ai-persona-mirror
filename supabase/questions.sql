-- Table creation for the quiz question bank
create table if not exists public.questions (
    id bigint generated always as identity primary key,
    created_at timestamptz not null default now(),
    text text not null,
    options jsonb not null,
    axis text not null check (axis in ('EI', 'SN', 'TF', 'JP'))
);

-- Reset table before seeding to avoid duplicate rows
truncate table public.questions restart identity;

insert into public.questions (text, options, axis) values
    ('오랜만에 생긴 완벽한 자유시간, 당신은 어떻게 보내시나요?', '["친구들에게 바로 연락해 번개 약속을 잡는다.", "요즘 핫하다는 팝업 스토어나 행사에 참여한다.", "보고 싶었던 영화나 드라마를 몰아보며 집에서 쉰다.", "혼자 조용한 카페에 가서 책을 읽거나 생각을 정리한다.", "일단 늦잠을 자고 그날의 기분에 따라 결정한다."]', 'EI'),
    ('처음 만난 사람들로 가득한 파티에 초대되었습니다. 당신의 모습은?', '["먼저 다가가 말을 걸며 새로운 사람들과 대화의 물꼬를 튼다.", "무리의 중심에서 대화를 이끌며 분위기를 띄운다.", "아는 사람 옆에 있거나, 주로 다른 사람들의 이야기를 듣는다.", "조용한 구석에서 사람들을 관찰하며 혼자만의 시간을 즐긴다.", "아는 사람과 대화하다가, 기회가 되면 새로운 사람과도 이야기한다."]', 'EI'),
    ('힘든 일이 있었을 때, 당신의 첫 번째 선택은?', '["친구에게 전화해 있었던 일을 전부 털어놓는다.", "사람들을 만나 이야기하며 기분을 푼다.", "혼자 산책하거나 음악을 들으며 마음을 가라앉힌다.", "일기를 쓰거나 혼자만의 방식으로 생각을 정리한다.", "가장 친한 친구 한두 명에게만 이야기한다."]', 'EI'),
    ('당신이 선호하는 업무 환경은 어떤 모습에 가깝나요?', '["동료들과 자유롭게 아이디어를 주고받는 개방적인 공간", "팀원들과 함께 문제를 해결하고 소통하는 협업 중심의 환경", "나만의 공간에서 누구의 방해도 받지 않고 집중하는 환경", "조용하고 독립적으로 내 페이스에 맞춰 일하는 분위기", "필요할 땐 협업하고, 집중할 땐 혼자 있을 수 있는 유연한 환경"]', 'EI'),
    ('당신에게 ''휴식''이란 어떤 의미에 더 가깝나요?', '["새로운 경험과 활동으로 삶에 활력을 불어넣는 것", "사람들과의 교류를 통해 긍정적인 에너지를 얻는 것", "외부 자극에서 벗어나 온전히 나에게 집중하며 재충전하는 것", "소모된 정신적 에너지를 회복하는 고요한 시간", "일과 삶의 균형을 맞추는 모든 활동"]', 'EI'),
    ('여행지에서 낯선 사람이 말을 걸어온다면?', '["반갑게 대화하며 현지 정보를 얻거나 친구가 된다.", "어디서 왔는지, 여행은 어떤지 등 대화를 즐겁게 이어간다.", "간단히 대답하고, 대화가 길어지지 않게 마무리한다.", "약간 경계하며, 꼭 필요한 정보만 주고받는다.", "상대방의 태도에 따라 유연하게 대처한다."]', 'EI'),
    ('당신의 SNS 활용 스타일은?', '["나의 일상과 생각을 적극적으로 공유하며 소통한다.", "새로운 사람들과 교류하고 관계를 넓히는 도구로 활용한다.", "주로 다른 사람들의 소식을 눈으로만 본다.", "꼭 필요한 정보 공유나 연락 수단으로만 최소한으로 사용한다.", "친한 친구들과의 소통 채널로만 활용한다."]', 'EI'),
    ('당신이 생각하는 ''이상적인 주말 저녁''은?', '["친구들과 함께하는 시끌벅적한 저녁 식사", "새로운 사람들을 만날 수 있는 사교 모임이나 파티", "집에서 편안한 옷차림으로 즐기는 배달 음식과 OTT", "혼자만의 취미 생활에 몰두하는 시간", "연인이나 가장 친한 친구와 보내는 오붓한 시간"]', 'EI'),
    ('발표나 회의 상황에서 당신은 주로?', '["자신의 의견을 적극적으로 먼저 제시하는 편이다.", "다양한 의견을 종합하고 토론을 활성화시키는 역할을 한다.", "다른 사람들의 의견을 충분히 듣고 난 후에 신중하게 말한다.", "머릿속으로 생각을 완벽히 정리한 후에 발언한다.", "아는 주제가 나오면 적극적으로 말하고, 아니면 주로 듣는다."]', 'EI'),
    ('당신이 휴대폰을 확인하는 주된 이유는?', '["친구나 지인들에게서 온 새로운 메시지나 소식이 궁금해서", "놓치고 있는 재미있는 이슈나 트렌드가 있는지 확인하기 위해", "내가 필요로 하는 정보(날씨, 뉴스 등)를 찾아보기 위해", "조용히 혼자만의 콘텐츠(웹툰, 영상 등)를 즐기기 위해", "업무나 꼭 필요한 연락이 왔는지 확인하기 위해"]', 'EI'),
    ('새로운 영화를 보고 난 후, 친구에게 어떻게 설명하나요?', '["인상 깊었던 장면이나 배우의 연기, 대사를 구체적으로 묘사한다.", "영화의 줄거리를 순서대로, 사실에 기반하여 설명한다.", "영화가 담고 있는 숨겨진 의미나 상징에 대해 이야기한다.", "영화를 보고 떠오른 나의 생각이나 다른 가능성에 대해 이야기한다.", "전체적인 줄거리와 내가 느낀 감상을 함께 이야기한다."]', 'SN'),
    ('새로운 기기를 샀을 때, 당신의 사용법 숙지 방법은?', '["설명서를 차근차근 읽어보거나, 직접 만져보며 기능을 익힌다.", "기존에 사용하던 방식과 경험을 바탕으로 기능을 파악한다.", "\"대충 이런 기능이겠지\" 직감적으로 파악하고 전체적인 원리를 이해하려 한다.", "이 기기가 내 삶을 어떻게 바꿔놓을 수 있을지 가능성부터 상상한다.", "일단 켜서 눌러보다가, 막히는 부분이 있으면 설명서를 찾아본다."]', 'SN'),
    ('당신이 더 신뢰하는 정보는?', '["직접 보고 들은 구체적인 사실과 데이터", "과거의 경험을 통해 검증된 현실적인 정보", "전체적인 맥락 속에서 파악되는 패턴과 통찰", "나의 육감이나 ''왠지 그럴 것 같다''는 직감", "사실과 직감을 종합하여 판단한다."]', 'SN'),
    ('대화할 때 당신의 주된 관심사는?', '["''그래서 실제로 무슨 일이 있었는데?'' (사실 관계)", "''어떻게 하면 돼?'' (현실적인 방법)", "''그게 무슨 의미인데?'' (숨겨진 의미)", "''만약 ~라면 어떨까?'' (새로운 가능성)", "사실을 바탕으로 의미를 찾으려 한다."]', 'SN'),
    ('당신이 예술 작품을 감상하는 방식은?', '["작품의 색감, 구도, 기법 등 눈에 보이는 그대로를 즐긴다.", "이 작품이 언제, 어떻게 만들어졌는지 사실적 정보에 집중한다.", "작품이 나에게 주는 전체적인 느낌이나 영감을 중요하게 생각한다.", "작가가 이 작품을 통해 무엇을 말하고 싶었을지 상상한다.", "작품의 아름다움과 그 속에 담긴 의미를 함께 감상한다."]', 'SN'),
    ('길을 설명할 때 당신의 스타일은?', '["\"편의점에서 우회전해서, 약국이 보일 때까지 100미터 직진하세요.\" (구체적 랜드마크)", "내가 직접 가봤던 경험을 바탕으로 순서대로 설명한다.", "\"저쪽 남동쪽 방향으로 가다 보면 큰 길이 나와요.\" (전체적인 방향과 개념)", "지도를 그려주거나 전체적인 그림을 이해시킨다.", "큰 방향을 알려주고, 중요한 지점에서 랜드마크를 짚어준다."]', 'SN'),
    ('당신이 더 선호하는 칭찬은?', '["\"일 처리가 꼼꼼하고 정확하네요.\"", "\"현실적인 대안을 제시해줘서 고마워요.\"", "\"아이디어가 정말 참신하고 독창적이네요.\"", "\"남들이 못 보는 큰 그림을 보시는군요.\"", "\"창의적이면서도 현실적이네요.\""]', 'SN'),
    ('새로운 프로젝트를 시작할 때, 당신이 먼저 하는 일은?', '["현재 우리가 가진 자원과 데이터를 파악한다.", "비슷한 성공 사례를 찾아보고 구체적인 실행 계획을 세운다.", "이 프로젝트가 가져올 미래의 비전과 가능성을 그린다.", "기존의 틀을 깨는 새로운 아이디어를 브레인스토밍한다.", "비전을 세우고, 그것을 실현할 현실적인 계획을 고민한다."]', 'SN'),
    ('당신이 이야기를 할 때 주로 사용하는 표현은?', '["구체적인 경험이나 사실을 바탕으로 이야기한다.", "\"예를 들면, 실제로...\" 와 같은 표현을 자주 쓴다.", "비유나 은유를 사용하여 개념적으로 설명한다.", "\"마치 ~인 것처럼...\" 과 같은 표현을 자주 쓴다.", "사실을 설명하기 위해 비유를 사용한다."]', 'SN'),
    ('당신에게 ''현재''란 어떤 의미인가요?', '["내가 직접 경험하고 즐겨야 할 가장 확실한 현실", "과거의 경험이 쌓여 만들어진 결과", "미래의 가능성을 만들어가는 과정", "더 큰 그림의 한 조각", "현재를 즐기면서 미래를 준비하는 시간"]', 'SN'),
    ('친구가 솔직히 별로인 옷을 입고 와서 "나 어때?"라고 묻는다면?', '["\"음, 솔직히 너한테는 다른 옷이 더 잘 어울리는 것 같아.\" (객관적 사실 전달)", "옷의 어떤 점이 별로인지 논리적으로 설명해 준다.", "\"잘 어울리네!\" 라고 말하며 친구의 기분을 상하지 않게 한다.", "\"그 옷도 괜찮은데, 지난번에 입었던 파란 옷이 진짜 예뻤어!\" (긍정적으로 대안 제시)", "잠시 고민하다가, 친구가 상처받지 않을 단어를 골라 솔직하게 말한다."]', 'TF'),
    ('팀 프로젝트에서 의견 충돌이 생겼을 때, 당신의 역할은?', '["무엇이 가장 효율적이고 합리적인 결정인지 데이터에 근거하여 주장한다.", "감정적인 논쟁은 배제하고, 문제의 핵심과 원칙에 집중한다.", "팀원들의 감정이 상하지 않도록 중재하며, 모두가 만족할 만한 합의점을 찾는다.", "갈등 상황을 완화하고, 팀의 화합을 유지하는 것을 최우선으로 생각한다.", "합리적인 해결책을 찾되, 팀원들의 의견을 존중하며 설득한다."]', 'TF'),
    ('당신이 동료를 평가해야 한다면, 어떤 기준을 더 중요하게 생각하나요?', '["업무 성과와 능력, 정해진 규칙 준수 여부", "얼마나 공정하고 논리적으로 업무를 처리하는가", "다른 팀원들과 얼마나 잘 협력하고 긍정적인 영향을 주는가", "팀에 대한 헌신과 노력하는 태도", "뛰어난 업무 능력과 훌륭한 팀워크를 모두 고려한다."]', 'TF'),
    ('당신이 비판을 해야 하는 상황이라면?', '["개인적인 감정 없이, 잘못된 부분을 명확하고 직설적으로 지적한다.", "''이것이 왜 문제인지''에 대한 논리적인 근거를 들어 설명한다.", "상대방의 장점을 먼저 칭찬한 후, 조심스럽게 개선점을 이야기한다.", "상대방이 어떻게 느낄지를 가장 먼저 고려하며, 최대한 부드럽게 표현한다.", "상대의 감정을 고려하면서도, 핵심적인 문제는 분명히 전달한다."]', 'TF'),
    ('당신에게 ''정의''란 무엇에 더 가깝나요?', '["모든 사람에게 공평하게 적용되는 보편적인 원칙과 시스템", "진실과 거짓을 가리는 명확한 기준", "각자의 상황과 입장을 고려하는 인간적인 가치 판단", "약자를 보호하고 공동체의 조화를 이루는 것", "원칙을 지키되, 상황에 따라 융통성을 발휘하는 것"]', 'TF'),
    ('당신이 영화를 보고 감동을 받는 포인트는?', '["허점 없는 탄탄한 스토리와 개연성", "감독의 천재적인 연출이나 문제 해결 방식", "주인공의 감정선에 깊이 몰입될 때", "인물 간의 관계나 희생, 사랑에 감동받을 때", "잘 짜인 이야기 속에서 감동적인 순간을 만났을 때"]', 'TF'),
    ('당신이 결정을 내릴 때, 가장 큰 영향을 미치는 것은?', '["객관적인 데이터와 사실 분석", "장단점을 비교한 합리적인 판단", "나의 마음이 끌리는 쪽, 나의 가치관", "이 결정이 다른 사람들에게 미칠 영향", "사실을 충분히 검토한 후, 마음의 소리를 따른다."]', 'TF'),
    ('누군가 당신에게 고민 상담을 요청했을 때, 당신의 반응은?', '["문제의 원인을 분석하고, 구체적인 해결책을 제시해 준다.", "감정적인 부분보다는 문제 자체에 집중해서 조언한다.", "상대방의 이야기에 깊이 공감하며, 마음을 위로해 준다.", "\"정말 힘들었겠다\"고 말하며, 상대방의 편이 되어준다.", "먼저 공감해주고, 그 후에 현실적인 해결책을 함께 고민한다."]', 'TF'),
    ('당신이 생각하는 ''좋은 리더''란?', '["명확한 목표를 제시하고, 공정하게 성과를 평가하는 리더", "감정에 휘둘리지 않고, 이성적이고 합리적으로 팀을 이끄는 리더", "팀원 한 명 한 명에게 관심을 기울이고, 성장을 돕는 리더", "팀의 화합을 이끌어내고, 긍정적인 분위기를 만드는 리더", "목표 달성과 팀원 관리를 모두 잘 해내는 리더"]', 'TF'),
    ('당신이 선물을 고르는 기준은?', '["상대방에게 가장 실용적이고 필요한 물건", "성능, 가격 등을 비교 분석했을 때 가장 합리적인 제품", "선물을 받았을 때 상대방이 얼마나 기뻐할까를 상상하며 고른다.", "나와 상대방의 추억이나 관계에 의미가 있는 물건", "실용적이면서도 감동을 줄 수 있는 물건"]', 'TF'),
    ('해외여행을 떠나기 전날 밤, 당신의 모습은?', '["며칠 전부터 짜놓은 계획표와 체크리스트를 최종 점검한다.", "모든 짐은 이미 완벽하게 싸여 있고, 여권과 티켓을 머리맡에 둔다.", "\"내일 아침에 싸도 되겠지\"라며 늦게까지 다른 일을 한다.", "대충 눈에 보이는 옷가지들을 캐리어에 던져 넣는다.", "꼭 필요한 것들만 미리 챙겨두고, 나머지는 내일 아침에 챙긴다."]', 'JP'),
    ('당신이 선호하는 업무 방식은?', '["명확한 목표와 마감 기한을 설정하고, 체계적으로 일을 처리한다.", "일을 시작하기 전에 전체적인 계획을 세우고 순서대로 진행한다.", "마감 기한에 임박했을 때, 엄청난 집중력으로 일을 몰아서 처리한다.", "정해진 계획보다는 상황에 맞춰 유연하고 즉흥적으로 일한다.", "큰 틀의 계획은 세우되, 세부적인 순서는 유연하게 조절한다."]', 'JP'),
    ('당신의 방이나 책상은 보통 어떤 상태인가요?', '["항상 깔끔하게 정돈되어 있고, 모든 물건은 제자리에 있다.", "주기적으로 계획을 세워 대청소를 한다.", "창의적인 혼돈 속에서 나름의 질서를 유지하고 있다.", "필요할 때만 정리하고, 평소에는 편안한 상태를 유지한다.", "겉보기에는 깔끔하지만, 서랍을 열면 혼돈 상태다."]', 'JP'),
    ('친구와의 약속, 당신의 스타일은?', '["몇 주 전부터 날짜, 시간, 장소를 명확하게 정해둔다.", "약속 장소에 항상 10분 먼저 도착해서 친구를 기다린다.", "\"그날 시간 되는 사람 보자\"는 식의 즉흥적인 약속을 선호한다.", "약속 시간에 아슬아슬하게 도착하거나 가끔 늦는다.", "날짜만 정해두고, 구체적인 계획은 만나기 직전에 정한다."]', 'JP'),
    ('당신에게 ''결정''이란?', '["불확실성을 제거하고, 다음 단계로 나아가기 위한 빠른 결론", "한번 내리면 좀처럼 바꾸지 않는 약속", "더 좋은 선택지가 나타날 때까지 열어두는 가능성", "상황이 닥쳤을 때 내리는 최선의 선택", "신중하게 결정하되, 더 좋은 대안이 생기면 바꿀 수 있다."]', 'JP'),
    ('당신이 쇼핑을 할 때의 모습은?', '["사야 할 물건의 목록을 미리 작성해서 계획적으로 구매한다.", "여러 제품을 비교 분석한 후, 가장 합리적인 선택을 한다.", "쇼핑몰을 둘러보다가, 마음에 드는 것이 있으면 즉흥적으로 구매한다.", "구체적인 계획 없이 아이쇼핑을 즐기는 것을 좋아한다.", "사려던 물건을 사러 갔다가, 마음에 드는 다른 물건도 함께 산다."]', 'JP'),
    ('당신이 더 스트레스를 받는 상황은?', '["갑자기 계획이 틀어지거나 예측 불가능한 상황이 발생했을 때", "모든 것이 불확실하고 아무것도 결정되지 않았을 때", "너무 빡빡한 규칙과 정해진 일정에 맞춰야 할 때", "너무 빨리 결정을 내리라고 재촉받을 때", "계획과 즉흥성 사이에서 균형을 잡아야 할 때"]', 'JP'),
    ('당신이 생각하는 ''완벽한 하루''란?', '["아침부터 밤까지 세워둔 계획을 모두 완벽하게 실행한 하루", "목표를 달성하고 무언가를 ''완료''했다는 성취감을 느낀 하루", "예상치 못한 즐거운 사건들로 가득 찬, 자유로운 하루", "아무런 계획 없이, 마음 가는 대로 여유롭게 보낸 하루", "계획했던 중요한 일을 끝내고, 남은 시간은 자유롭게 보낸 하루"]', 'JP'),
    ('당신은 어떤 문장을 들었을 때 더 마음이 편안해지나요?', '["\"모든 것이 계획대로 착착 진행되고 있습니다.\"", "\"이제 결정되었으니, 더 이상 고민할 필요 없습니다.\"", "\"아직 결정된 건 아무것도 없으니, 모든 가능성은 열려 있습니다.\"", "\"상황을 좀 더 지켜보고, 나중에 결정해도 늦지 않습니다.\"", "\"계획은 세웠지만, 언제든 바뀔 수 있습니다.\""]', 'JP'),
    ('당신이 새로운 취미를 시작한다면?', '["관련 서적이나 강의를 찾아보며 체계적으로 배울 계획부터 세운다.", "장기적인 목표를 설정하고, 꾸준히 연습해서 마스터하려 한다.", "일단 흥미가 생기면, 깊게 생각하지 않고 바로 시작해 본다.", "이것저것 시도해 보다가, 금방 다른 것에 흥미가 생길 수도 있다.", "일단 시작해 보고, 재미있으면 구체적인 계획을 세운다."]', 'JP');

-- Helper function: return one random question per axis
create or replace function public.get_random_quiz_questions()
returns setof public.questions
language sql
as $$
    (
        select *
        from public.questions
        where axis = 'EI'
        order by random()
        limit 1
    )
    union all
    (
        select *
        from public.questions
        where axis = 'SN'
        order by random()
        limit 1
    )
    union all
    (
        select *
        from public.questions
        where axis = 'TF'
        order by random()
        limit 1
    )
    union all
    (
        select *
        from public.questions
        where axis = 'JP'
        order by random()
        limit 1
    );
$$;
